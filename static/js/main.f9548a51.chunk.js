(this["webpackJsonpcoda-global-challenge"]=this["webpackJsonpcoda-global-challenge"]||[]).push([[0],{171:function(e,t,c){},172:function(e,t,c){},311:function(e,t,c){"use strict";c.r(t);var n=c(7),a=c(0),s=c.n(a),r=c(29),i=c.n(r),j=(c(171),c(172),c(173),c.p+"static/media/dice.5ff6597b.svg");var d=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:j,width:200,style:{padding:"20px"}})})},l=c.p+"static/media/dollar.998f4715.svg",o=c.p+"static/media/slot-machine.7f4e78d9.svg",b=c(43),u=c(85),O={isGamePage:localStorage.getItem("isGamePage"),users:[],selected:[],isReady:!1};console.log("initialState:",O);var x=Object(a.createContext)(O),h=x.Provider,p=function(e){var t=e.children,c=Object(a.useReducer)((function(e,t){var c=t.type,n=t.data;switch(e.isGamePage||localStorage.clear(),c){case"LIST":return Object(b.a)(Object(b.a)({},e),{},{users:n.map((function(e){return Object(b.a)({key:e.Name},e)}))});case"READY_TOGGLE":return Object(b.a)(Object(b.a)({},e),{},{isReady:n});case"SELECTED_9":return Object(b.a)(Object(b.a)({},e),{},{selected:n});case"ROUTE_TOGGLE":if(n){var a=e.users.filter((function(t){return e.selected.includes(t.Name)}));localStorage.setItem("selectedUsers",JSON.stringify(a)),localStorage.setItem("isGamePage","true")}else localStorage.setItem("isGamePage","false");return Object(b.a)(Object(b.a)({},e),{},{isGamePage:n});default:throw new Error}}),O),s=Object(u.a)(c,2),r=s[0],i=s[1];return Object(n.jsx)(h,{value:{state:r,dispatch:i},children:t})},g=c(315),m=c(77),f=c(49),v=c(317);g.a.Meta;var y=function(){var e=Object(a.useContext)(x),t=e.state,c=(e.dispatch,t.selected),s=t.users,r=void 0===s?[]:s;return Object(n.jsx)("div",{children:r.filter((function(e){var t=e.key;return c.includes(t)})).map((function(e,t){return Object(n.jsx)(g.a,{size:"small",children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(f.a,{span:6,children:Object(n.jsx)(v.a,{shape:"square",size:"large",src:e["Profile Image"]})}),Object(n.jsx)(f.a,{span:12,children:Object(n.jsxs)("p",{children:[Object(n.jsx)("img",{src:o,width:20})," ",Object(n.jsx)("b",{children:e.Bet})]})}),Object(n.jsx)(f.a,{span:6,children:Object(n.jsxs)("p",{children:[Object(n.jsx)("img",{src:l,width:20})," ",Object(n.jsx)("b",{children:e.Price})]})})]})},t)}))})},w=c(68);var P=function(){var e=Object(a.useContext)(x),t=e.state,c=e.dispatch;return Object(n.jsx)("div",{style:{margin:"20px"},children:Object(n.jsx)(w.a,{type:"primary",size:"large",disabled:!t.isReady,onClick:function(){return c({type:"ROUTE_TOGGLE",data:!0})},children:"Start"})})};var S=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(d,{}),Object(n.jsx)(P,{}),Object(n.jsx)(y,{})]})},E=c(316),G=E.a.Title;var T=function(){return Object(n.jsxs)("div",{style:{padding:"30px",margin:"30px"},children:[Object(n.jsx)(G,{children:"Select Playing 9"})," "]})},C=c(314),R=[{title:"Name",dataIndex:"Name",key:"Name"},{title:"Bet",dataIndex:"Bet",key:"Bet"},{title:"Price",dataIndex:"Price",key:"Price"}];var k=function(){var e=Object(a.useContext)(x),t=e.state,c=e.dispatch,s=Object(a.useState)([]),r=Object(u.a)(s,2),i=r[0],j=r[1],d=Object(a.useState)(0),l=Object(u.a)(d,2),o=l[0],O=l[1];Object(a.useEffect)((function(){c({type:"SELECTED_9",data:i})}),[i]),t.isReady||9!==o||c({type:"READY_TOGGLE",data:!0}),t.isReady&&9!==o&&c({type:"READY_TOGGLE",data:!1});var h={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t),e.length<=9&&(j(e),O(e.length))},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}},hideSelectAll:!0,columnTitle:o<9?"".concat(9-o," more"):"Done"};return Object(n.jsx)("div",{children:Object(n.jsx)(C.a,{dataSource:t.users,columns:R,rowSelection:Object(b.a)(Object(b.a)({type:"checkbox"},h),{},{selectedRowKeys:i})})})};var I=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(T,{}),Object(n.jsx)(k,{})]})};var L=function(){var e=Object(a.useContext)(x).dispatch;return Object(a.useEffect)((function(){fetch("https://s3-ap-southeast-1.amazonaws.com/he-public-data/bets7747a43.json").then((function(e){return e.json()})).then((function(t){e({type:"LIST",data:t})}))}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(f.a,{span:6,children:Object(n.jsx)(S,{})}),Object(n.jsx)(f.a,{span:18,children:Object(n.jsx)(I,{})})]})})},N=c.p+"static/media/trophy.b7eae62c.svg",B=E.a.Title;var D=function(e){var t=e.selectedUsers;return Object(n.jsx)("div",{children:Object(n.jsxs)(m.a,{gutter:18,children:[t.map((function(e,t){return Object(n.jsx)(f.a,{span:6,children:Object(n.jsxs)(g.a,{style:{margin:"5px"},children:[Object(n.jsxs)(m.a,{children:[Object(n.jsx)(f.a,{span:10,children:Object(n.jsx)(v.a,{src:e["Profile Image"],style:{width:"60px",height:"60px"}})}),Object(n.jsx)(f.a,{span:14,children:Object(n.jsx)("span",{children:Object(n.jsx)(B,{level:3,children:e.Name})})})]}),Object(n.jsxs)(m.a,{style:{margin:"20px"},children:[Object(n.jsxs)(f.a,{span:12,children:[Object(n.jsx)("img",{src:o,width:20})," ",e.Bet]}),Object(n.jsxs)(f.a,{span:12,children:[Object(n.jsx)("img",{src:l,width:20})," ",e.winPrice]})]}),Object(n.jsxs)("div",{style:{padding:"4px"},children:[Object(n.jsx)("img",{src:N,width:25})," ",e.wins?e.wins:0]}),e.win&&Object(n.jsx)("div",{style:{backgroundColor:"#704ee1",borderRadius:"10px",color:"aliceblue",padding:"5px 0"},children:"Won \ud83d\ude0d"})]},t)})}))," "]})})};var U=function(){var e=Object(a.useContext)(x).dispatch;return Object(n.jsx)("div",{style:{margin:"20px"},children:Object(n.jsx)(w.a,{size:"large",type:"primary",onClick:function(){return e({type:"ROUTE_TOGGLE",data:!1})},children:"Back"})})},_=E.a.Title;var z=function(e){var t=e.randomNumber;return Object(n.jsx)("div",{style:{backgroundColor:"#704ee1",textAlign:"center",padding:"30px"},children:Object(n.jsx)(_,{style:{color:"white",fontSize:"4em"},children:t})})},A=Math.ceil(9*Math.random());var F=function(){var e=JSON.parse(localStorage.getItem("selectedUsers")).map((function(e){return e.winPrice=e.winPrice?e.winPrice:0,e.Bet==A?(console.count("updated"),e.winPrice=2*e.Price,e.win=!0,e.wins=e.wins?e.wins+1:1):e.win=!1,e}));return Object(n.jsxs)("div",{children:[Object(n.jsx)(z,{randomNumber:A}),Object(n.jsx)(U,{}),Object(n.jsx)(D,{randomNumber:A,selectedUsers:e})]})};var J=function(){var e=Object(a.useContext)(x).state,t=e.isGamePage;return e.users,Object(n.jsx)("div",{children:t?Object(n.jsx)(F,{}):Object(n.jsx)(L,{})})};var M=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(p,{children:Object(n.jsx)(J,{})})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,318)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(M,{})}),document.getElementById("root")),Y()}},[[311,1,2]]]);
//# sourceMappingURL=main.f9548a51.chunk.js.map